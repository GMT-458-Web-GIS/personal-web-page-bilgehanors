<!doctype html>
<html lang="tr">
<head>
<meta charset="utf-8">
<title>TÃ¼rkiye Åžehir BaÄŸlama Oyunu</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
  :root {
    --bg-color: #2e2e2e;
    --container-bg: #3a3a3a;
    --text-color: #e8e8e8;
    --border-color: #4a4a4a;
    --input-bg: #2e2e2e;
    --primary-color: #007bff;
    --primary-text: #fff;
    --province-fill: #4f4f4f;
    --province-stroke: #2e2e2e;
    --start-city-fill: #ffdd57;   /* SarÄ± */
    --end-city-fill: #ff3860;     /* Pembe/KÄ±rmÄ±zÄ± */
    --connected-fill: #48c774;   /* YeÅŸil */
    --guessed-fill: #ff9f43;     /* Turuncu */
    --hover-color: #444;
  }

  body {
    margin: 0;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    background-color: var(--bg-color);
    color: var(--text-color);
    padding: 20px;
    box-sizing: border-box;
  }

  .game-container {
    width: 100%;
    max-width: 800px;
    background: var(--container-bg);
    border-radius: 16px;
    box-shadow: 0 8px 30px rgba(0,0,0,0.2);
    padding: 28px;
    display: flex;
    flex-direction: column;
    gap: 20px;
    border: 1px solid var(--border-color);
  }

  h1 {
    text-align: center;
    font-size: 1.6em;
    font-weight: 500;
    margin: 0 0 10px 0;
  }
  h1 span {
    font-weight: 700;
    padding: 4px 10px;
    border-radius: 8px;
    color: #111;
  }
  #start-city-span { background-color: var(--start-city-fill); }
  #end-city-span { background-color: var(--end-city-fill); color: white; }

  #map-wrap {
    flex: 1;
    position: relative;
    border: 1px solid var(--border-color);
    border-radius: 12px;
    overflow: hidden;
    min-height: 450px;
  }

  #map { width: 100%; height: 500px; }
  svg { display: block; background: var(--input-bg); }

  .province {
    fill: var(--province-fill);
    stroke: var(--province-stroke);
    stroke-width: 0.8;
    cursor: pointer;
    transition: fill .2s ease;
  }

  .map-controls {
    position: absolute;
    top: 12px;
    right: 12px;
    display: flex;
    flex-direction: column;
    gap: 6px;
  }
  .map-controls button {
    width: 32px;
    height: 32px;
    font-size: 18px;
    border-radius: 8px;
    border: 1px solid var(--border-color);
    background: var(--container-bg);
    color: var(--text-color);
    cursor: pointer;
  }
  .map-controls button:hover { background: var(--hover-color); }

  .controls-section { display: flex; flex-direction: column; gap: 15px; }

  .guess-controls { display: flex; gap: 10px; }
  .guess-controls input {
    flex-grow: 1;
    padding: 12px 16px;
    border-radius: 8px;
    border: 1px solid var(--border-color);
    background-color: var(--input-bg);
    color: var(--text-color);
    font-size: 16px;
  }
  .guess-controls button {
    padding: 12px 20px;
    border-radius: 8px;
    border: 0;
    background: var(--primary-color);
    color: var(--primary-text);
    cursor: pointer;
    font-size: 16px;
    font-weight: 500;
  }
  
  #autocomplete-container {
    position: relative;
    flex-grow: 1;
  }
  #autocomplete-list {
    position: absolute;
    top: 100%;
    left: 0;
    right: 0;
    background-color: var(--container-bg);
    border: 1px solid var(--border-color);
    border-top: none;
    border-radius: 0 0 8px 8px;
    z-index: 1000;
    max-height: 150px;
    overflow-y: auto;
  }
  .autocomplete-item {
    padding: 10px 16px;
    cursor: pointer;
  }
  .autocomplete-item:hover {
    background-color: var(--hover-color);
  }

  details { border: 1px solid var(--border-color); border-radius: 8px; }
  summary { cursor: pointer; font-weight: 500; padding: 10px 14px; }
  #guessList {
    list-style: none;
    padding: 0 14px 10px 14px;
    margin: 10px 0 0 0;
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 8px;
  }
  .guess-item { display: flex; align-items: center; }
  .guess-color-box {
    width: 14px;
    height: 14px;
    border-radius: 4px;
    margin-right: 8px;
    display: inline-block;
  }
  
  .hint-controls { border-top: 1px solid var(--border-color); padding-top: 15px; margin-top: 5px; }
  .hint-controls p { margin: 0 0 10px 0; font-weight: 500; }
  .hint-controls .buttons { display: flex; gap: 10px; }
  .hint-controls button {
    padding: 8px 12px;
    border-radius: 6px;
    border: 1px solid var(--border-color);
    background: transparent;
    color: var(--text-color);
    cursor: pointer;
    font-size: 13px;
  }
  .tooltip {
    position:absolute; pointer-events:none; background:rgba(0,0,0,0.85);
    color:white; padding:6px 10px; border-radius:6px; font-size:14px;
    transform:translate(-50%, -130%); white-space:nowrap; display:none; z-index: 10;
  }
  
  #winMessage {
    position:fixed; top:50%; left:50%; transform:translate(-50%,-50%);
    background:var(--container-bg); color: var(--text-color);
    padding: 25px 45px; border-radius:12px; box-shadow:0 4px 20px rgba(0,0,0,0.2);
    text-align:center; display:none; z-index:2000; flex-direction: column;
    border: 1px solid var(--border-color);
  }
  #winMessage button { margin-top:15px; padding: 10px 20px; font-size: 16px; background-color: var(--primary-color); color: white; border: none; border-radius: 8px; cursor: pointer;}
</style>
</head>
<body>

<div class="game-container">
  <h1>BugÃ¼n, <span id="start-city-span">...</span>'dan <span id="end-city-span">...</span>'a gitmek istiyorum</h1>

  <div id="map-wrap">
    <div id="map"></div>
    <div id="tooltip" class="tooltip"></div>
    <div class="map-controls">
      <button id="zoom-in">+</button>
      <button id="zoom-out">-</button>
      <button id="zoom-reset">âŸ³</button>
    </div>
  </div>

  <div class="controls-section">
    <div class="guess-controls">
      <div id="autocomplete-container">
        <input id="search" type="text" placeholder="Bir il girin..." autocomplete="off">
        <div id="autocomplete-list"></div>
      </div>
      <button id="guessBtn">Tahmin Et</button>
    </div>

    <details open>
      <summary>GeÃ§miÅŸ tahminler (gÃ¶stermek/gizlemek iÃ§in tÄ±klayÄ±n):</summary>
      <ol id="guessList"></ol>
    </details>
    
    <div class="hint-controls">
      <p>Bir ipucu al (0/3):</p>
      <div class="buttons">
        <button class="hint-btn">Sonraki il sÄ±nÄ±rlarÄ±nÄ± gÃ¶ster</button>
        <button class="hint-btn">TÃ¼m il sÄ±nÄ±rlarÄ±nÄ± gÃ¶ster</button>
      </div>
    </div>
  </div>
</div>

<div id="winMessage">
  <h2>ðŸŽ‰ KazandÄ±nÄ±z! ðŸŽ‰</h2>
  <p>Ä°ki ÅŸehri birbirine baÄŸladÄ±nÄ±z.</p>
  <button id="playAgain">Tekrar Oyna</button>
</div>

<script src="https://d3js.org/d3.v7.min.js"></script>

<script>
document.addEventListener("DOMContentLoaded", () => {
    let geojson, provinces, startCity, destinationCity;
    let guesses = [];
    let cityStatus = {}; 

    const mapEl = document.getElementById("map");
    const svg = d3.select("#map").append("svg");
    const g = svg.append("g");
    const tooltip = d3.select("#tooltip");

    const projection = d3.geoMercator();
    const path = d3.geoPath().projection(projection);

    const zoom = d3.zoom().scaleExtent([0.8, 8]).on("zoom", e => g.attr("transform", e.transform));
    svg.call(zoom);

    const neighbors = { "Adana": ["Osmaniye", "Hatay", "KahramanmaraÅŸ", "Kayseri", "NiÄŸde", "Mersin"], "AdÄ±yaman": ["ÅžanlÄ±urfa", "DiyarbakÄ±r", "Malatya", "KahramanmaraÅŸ", "Gaziantep"], "Afyonkarahisar": ["UÅŸak", "Denizli", "Burdur", "Isparta", "Konya", "EskiÅŸehir", "KÃ¼tahya"], "AÄŸrÄ±": ["IÄŸdÄ±r", "Kars", "Erzurum", "MuÅŸ", "Van"], "Aksaray": ["Ankara", "KÄ±rÅŸehir", "NevÅŸehir", "NiÄŸde", "Konya"], "Amasya": ["Tokat", "Ã‡orum", "Samsun", "Yozgat"], "Ankara": ["EskiÅŸehir", "Bolu", "Ã‡ankÄ±rÄ±", "KÄ±rÄ±kkale", "KÄ±rÅŸehir", "Aksaray", "Konya"], "Antalya": ["MuÄŸla", "Burdur", "Isparta", "Konya", "Karaman", "Mersin"], "Ardahan": ["Artvin", "Erzurum", "Kars"], "Artvin": ["Rize", "Erzurum", "Ardahan"], "AydÄ±n": ["Ä°zmir", "Manisa", "Denizli", "MuÄŸla"], "BalÄ±kesir": ["Ã‡anakkale", "Ä°zmir", "Manisa", "KÃ¼tahya", "Bursa"], "BartÄ±n": ["Zonguldak", "KarabÃ¼k", "Kastamonu"], "Batman": ["DiyarbakÄ±r", "Mardin", "Siirt", "Bitlis", "MuÅŸ"], "Bayburt": ["Trabzon", "Rize", "Erzurum", "GÃ¼mÃ¼ÅŸhane", "Erzincan"], "Bilecik": ["Bursa", "KÃ¼tahya", "EskiÅŸehir", "Bolu", "Sakarya"], "BingÃ¶l": ["MuÅŸ", "DiyarbakÄ±r", "ElazÄ±ÄŸ", "Tunceli", "Erzincan", "Erzurum"], "Bitlis": ["MuÅŸ", "Van", "Siirt", "Batman"], "Bolu": ["Zonguldak", "DÃ¼zce", "Sakarya", "Bilecik", "EskiÅŸehir", "Ankara", "Ã‡ankÄ±rÄ±", "KarabÃ¼k"], "Burdur": ["MuÄŸla", "Antalya", "Isparta", "Afyonkarahisar", "Denizli"], "Bursa": ["BalÄ±kesir", "KÃ¼tahya", "Bilecik", "Sakarya", "Yalova"], "Ã‡anakkale": ["BalÄ±kesir", "TekirdaÄŸ", "Edirne"], "Ã‡ankÄ±rÄ±": ["Ankara", "KÄ±rÄ±kkale", "Kastamonu", "KarabÃ¼k", "Bolu"], "Ã‡orum": ["Kastamonu", "Ã‡ankÄ±rÄ±", "KÄ±rÄ±kkale", "Yozgat", "Tokat", "Amasya", "Samsun"], "Denizli": ["AydÄ±n", "MuÄŸla", "Burdur", "Afyonkarahisar", "UÅŸak", "Manisa"], "DiyarbakÄ±r": ["Mardin", "ÅžanlÄ±urfa", "AdÄ±yaman", "Malatya", "ElazÄ±ÄŸ", "BingÃ¶l", "MuÅŸ", "Batman"], "DÃ¼zce": ["Zonguldak", "Bolu", "Sakarya"], "Edirne": ["KÄ±rklareli", "TekirdaÄŸ", "Ã‡anakkale"], "ElazÄ±ÄŸ": ["Malatya", "DiyarbakÄ±r", "BingÃ¶l", "Tunceli"], "Erzincan": ["Sivas", "Giresun", "GÃ¼mÃ¼ÅŸhane", "Bayburt", "Erzurum", "BingÃ¶l", "Tunceli"], "Erzurum": ["Artvin", "Rize", "Bayburt", "Erzincan", "BingÃ¶l", "MuÅŸ", "AÄŸrÄ±", "Kars", "Ardahan"], "EskiÅŸehir": ["KÃ¼tahya", "Afyonkarahisar", "Konya", "Ankara", "Bolu", "Bilecik"], "Gaziantep": ["Kilis", "ÅžanlÄ±urfa", "AdÄ±yaman", "KahramanmaraÅŸ", "Osmaniye"], "Giresun": ["Ordu", "Sivas", "Erzincan", "GÃ¼mÃ¼ÅŸhane", "Trabzon"], "GÃ¼mÃ¼ÅŸhane": ["Trabzon", "Rize", "Bayburt", "Erzincan", "Giresun"], "Hakkari": ["Van", "ÅžÄ±rnak"], "Hatay": ["Adana", "Osmaniye", "Kilis"], "IÄŸdÄ±r": ["Kars", "AÄŸrÄ±"], "Isparta": ["Antalya", "Burdur", "Afyonkarahisar", "Konya"], "Ä°stanbul": ["Kocaeli", "TekirdaÄŸ", "Yalova"], "Ä°zmir": ["Manisa", "AydÄ±n", "BalÄ±kesir"], "KahramanmaraÅŸ": ["Gaziantep", "Osmaniye", "Adana", "Kayseri", "Sivas", "Malatya", "AdÄ±yaman"], "KarabÃ¼k": ["BartÄ±n", "Zonguldak", "Bolu", "Ã‡ankÄ±rÄ±", "Kastamonu"], "Karaman": ["Konya", "Mersin", "Antalya"], "Kars": ["Erzurum", "Ardahan", "IÄŸdÄ±r", "AÄŸrÄ±"], "Kastamonu": ["Sinop", "Ã‡orum", "Ã‡ankÄ±rÄ±", "KarabÃ¼k", "BartÄ±n"], "Kayseri": ["NevÅŸehir", "NiÄŸde", "Adana", "KahramanmaraÅŸ", "Sivas", "Yozgat", "KÄ±rÅŸehir"], "Kilis": ["Gaziantep", "Hatay", "Osmaniye"], "KÄ±rÄ±kkale": ["Ankara", "Ã‡ankÄ±rÄ±", "Ã‡orum", "Yozgat", "KÄ±rÅŸehir", "Aksaray"], "KÄ±rklareli": ["Edirne", "TekirdaÄŸ"], "KÄ±rÅŸehir": ["KÄ±rÄ±kkale", "Yozgat", "NevÅŸehir", "Aksaray", "Ankara", "Kayseri"], "Kocaeli": ["Ä°stanbul", "Yalova", "Bursa", "Sakarya"], "Konya": ["Ankara", "Aksaray", "NiÄŸde", "Karaman", "Antalya", "Isparta", "Afyonkarahisar", "EskiÅŸehir"], "KÃ¼tahya": ["Manisa", "UÅŸak", "Afyonkarahisar", "EskiÅŸehir", "Bilecik", "Bursa", "BalÄ±kesir"], "Malatya": ["ElazÄ±ÄŸ", "DiyarbakÄ±r", "AdÄ±yaman", "KahramanmaraÅŸ", "Sivas"], "Manisa": ["Ä°zmir", "AydÄ±n", "Denizli", "UÅŸak", "KÃ¼tahya", "BalÄ±kesir"], "Mardin": ["ÅžanlÄ±urfa", "DiyarbakÄ±r", "Batman", "Siirt", "ÅžÄ±rnak"], "Mersin": ["Adana", "NiÄŸde", "Karaman", "Antalya"], "MuÄŸla": ["AydÄ±n", "Denizli", "Burdur", "Antalya"], "MuÅŸ": ["BingÃ¶l", "Bitlis", "Van", "AÄŸrÄ±", "Erzurum", "DiyarbakÄ±r"], "NevÅŸehir": ["KÄ±rÅŸehir", "KÄ±rÄ±kkale", "Aksaray", "NiÄŸde", "Kayseri", "Yozgat"], "NiÄŸde": ["Aksaray", "NevÅŸehir", "Kayseri", "Adana", "Mersin", "Konya"], "Ordu": ["Samsun", "Tokat", "Sivas", "Giresun"], "Osmaniye": ["Hatay", "Adana", "KahramanmaraÅŸ", "Gaziantep", "Kilis"], "Rize": ["Trabzon", "GÃ¼mÃ¼ÅŸhane", "Bayburt", "Erzurum", "Artvin"], "Sakarya": ["Kocaeli", "Bilecik", "Bolu", "DÃ¼zce", "Bursa"], "Samsun": ["Sinop", "Ã‡orum", "Amasya", "Tokat", "Ordu"], "Siirt": ["Mardin", "Batman", "Bitlis", "Van", "ÅžÄ±rnak"], "Sinop": ["Kastamonu", "Ã‡orum", "Samsun"], "Sivas": ["Ordu", "Tokat", "Amasya", "Yozgat", "Kayseri", "KahramanmaraÅŸ", "Malatya", "Erzincan", "Giresun", "Tunceli"], "ÅžanlÄ±urfa": ["Mardin", "DiyarbakÄ±r", "AdÄ±yaman", "Gaziantep"], "ÅžÄ±rnak": ["Mardin", "Siirt", "Hakkari"], "TekirdaÄŸ": ["KÄ±rklareli", "Edirne", "Ã‡anakkale", "Ä°stanbul"], "Tokat": ["Amasya", "Samsun", "Ordu", "Sivas", "Yozgat", "Ã‡orum"], "Trabzon": ["Rize", "Bayburt", "GÃ¼mÃ¼ÅŸhane", "Giresun"], "Tunceli": ["ElazÄ±ÄŸ", "BingÃ¶l", "Erzincan", "Sivas"], "UÅŸak": ["Manisa", "Denizli", "Afyonkarahisar", "KÃ¼tahya"], "Van": ["Bitlis", "MuÅŸ", "AÄŸrÄ±", "Hakkari", "Siirt"], "Yalova": ["Bursa", "Ä°stanbul", "Kocaeli"], "Yozgat": ["Sivas", "Kayseri", "NevÅŸehir", "KÄ±rÅŸehir", "KÄ±rÄ±kkale", "Ã‡orum", "Tokat"], "Zonguldak": ["BartÄ±n", "KarabÃ¼k", "Bolu", "DÃ¼zce"] };

    const pickTwoRandom = (arr) => [...arr].sort(() => 0.5 - Math.random()).slice(0, 2);
    const normalizeString = (str) => str.normalize("NFD").replace(/[\u0300-\u036f]/g, "").toLowerCase();

    const updateSidebar = () => {
        const list = document.getElementById("guessList");
        list.innerHTML = "";
        guesses.forEach((guess, index) => {
            const status = cityStatus[guess.city];
            const colorVar = status === 'connected' ? '--connected-fill' : '--guessed-fill';
            const li = document.createElement("li");
            li.className = "guess-item";
            li.innerHTML = `<span class="guess-color-box" style="background-color: var(${colorVar})"></span>${index + 1}. ${guess.city}`;
            list.appendChild(li);
        });
    };

    const startRound = () => {
        [startCity, destinationCity] = pickTwoRandom(geojson.features.map(f => f.properties.name));
        document.getElementById('start-city-span').textContent = startCity;
        document.getElementById('end-city-span').textContent = destinationCity;
        guesses = [];
        cityStatus = { [startCity]: 'start', [destinationCity]: 'end' };
        provinces.style("display", "none");
        provinces.filter(d => cityStatus[d.properties.name]).style("display", "block");
        provinces.filter(d => d.properties.name === startCity).style("fill", "var(--start-city-fill)");
        provinces.filter(d => d.properties.name === destinationCity).style("fill", "var(--end-city-fill)");
        document.getElementById("winMessage").style.display = "none";
        updateSidebar();
    };

    // --- YENÄ°DEN YAZILMIÅž, DAHA GÃœVENÄ°LÄ°R BAÄžLANTI FONKSÄ°YONU ---
    const updateConnections = () => {
        const connectedSet = new Set([startCity]);
        const queue = [startCity];

        while (queue.length > 0) {
            const currentCity = queue.shift();
            (neighbors[currentCity] || []).forEach(neighbor => {
                // EÄŸer komÅŸu daha Ã¶nce bulunmadÄ±ysa VE haritada gÃ¶rÃ¼nÃ¼r bir ÅŸehir ise (tahmin, hedef vs.)
                if (!connectedSet.has(neighbor) && cityStatus[neighbor]) {
                    connectedSet.add(neighbor);
                    queue.push(neighbor);
                }
            });
        }
        
        guesses.forEach(g => cityStatus[g.city] = connectedSet.has(g.city) ? 'connected' : 'guessed');
        
        Object.keys(cityStatus).forEach(city => {
            let colorVar;
            switch(cityStatus[city]) {
                case 'start': colorVar = '--start-city-fill'; break;
                // Hedef ÅŸehir baÄŸlÄ±ysa yeÅŸil, deÄŸilse pembe kalÄ±r
                case 'end': colorVar = connectedSet.has(city) ? '--connected-fill' : '--end-city-fill'; break;
                case 'connected': colorVar = '--connected-fill'; break;
                case 'guessed': colorVar = '--guessed-fill'; break;
            }
            if (colorVar) provinces.filter(d => d.properties.name === city).style("fill", `var(${colorVar})`);
        });

        // Kazanma kontrolÃ¼: connectedSet hedef ÅŸehri iÃ§eriyorsa kazan
        if (connectedSet.has(destinationCity)) {
            document.getElementById("winMessage").style.display = "flex";
        }
        
        updateSidebar();
    };

    const handleGuess = (cityName) => {
        const normalizedInput = normalizeString(cityName);
        const feature = geojson.features.find(f => normalizeString(f.properties.name) === normalizedInput);
        
        if (!feature) { alert("Åžehir bulunamadÄ±: " + cityName); return; }
        const properCityName = feature.properties.name;
        if (cityStatus[properCityName]) return; 

        provinces.filter(d => d.properties.name === properCityName).style("display", "block");
        cityStatus[properCityName] = "guessed";
        guesses.push({ city: properCityName });
        updateConnections();
    };

    const resizeMap = () => {
        if (!geojson) return;
        const { clientWidth: width, clientHeight: height } = mapEl;
        svg.attr("width", width).attr("height", height);
        projection.fitSize([width, height], geojson);
        provinces.attr("d", path);
    };

    const setupAutocomplete = (cityNames) => {
        const searchInput = document.getElementById('search');
        const autocompleteList = document.getElementById('autocomplete-list');
        searchInput.addEventListener('input', () => {
            const value = searchInput.value;
            autocompleteList.innerHTML = '';
            if (!value) return;
            const normalizedValue = normalizeString(value);
            const suggestions = cityNames.filter(city => normalizeString(city).startsWith(normalizedValue));
            suggestions.forEach(city => {
                const item = document.createElement('div');
                item.className = 'autocomplete-item';
                item.textContent = city;
                item.addEventListener('click', () => {
                    searchInput.value = city;
                    autocompleteList.innerHTML = '';
                });
                autocompleteList.appendChild(item);
            });
        });
        document.addEventListener('click', (e) => {
            if (!e.target.closest('#autocomplete-container')) autocompleteList.innerHTML = '';
        });
    };

    d3.json("turkey-provinces.geojson").then(data => {
        geojson = data;
        const cityNames = geojson.features.map(f => f.properties.name);
        provinces = g.selectAll("path").data(geojson.features).join("path")
            .attr("class", "province").style("display", "none")
            .on("mouseenter", (e, d) => tooltip.style("display", "block").text(d.properties.name))
            .on("mousemove", (e) => {
                const [x, y] = d3.pointer(e, mapEl);
                tooltip.style("left", `${x}px`).style("top", `${y}px`);
            })
            .on("mouseleave", () => tooltip.style("display", "none"));
        setupAutocomplete(cityNames);
        resizeMap();
        startRound();
    }).catch(err => {
        console.error("GeoJSON Error:", err);
        alert("Harita dosyasÄ± 'turkey-provinces.geojson' yÃ¼klenemedi. LÃ¼tfen Live Server ile Ã§alÄ±ÅŸtÄ±rdÄ±ÄŸÄ±nÄ±zdan emin olun.");
    });
    
    const searchInput = document.getElementById("search");
    document.getElementById("guessBtn").addEventListener("click", () => {
        if (searchInput.value.trim()) handleGuess(searchInput.value.trim());
        searchInput.value = "";
        document.getElementById('autocomplete-list').innerHTML = '';
    });
    searchInput.addEventListener("keypress", (e) => { if (e.key === 'Enter') document.getElementById("guessBtn").click(); });
    document.getElementById("playAgain").addEventListener("click", startRound);
    document.getElementById('zoom-in').addEventListener('click', () => svg.transition().duration(250).call(zoom.scaleBy, 1.3));
    document.getElementById('zoom-out').addEventListener('click', () => svg.transition().duration(250).call(zoom.scaleBy, 1 / 1.3));
    document.getElementById('zoom-reset').addEventListener('click', () => svg.transition().duration(500).call(zoom.transform, d3.zoomIdentity));
    window.addEventListener("resize", resizeMap);
});
</script>
</body>
</html>